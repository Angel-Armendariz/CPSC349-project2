let capture,getDirForRemakeAppData;_2de‍.x([["getCacheBustString",()=>getCacheBustString]]);_2de‍.w("../utils/async-utils",[["capture",["capture"],function(v){capture=v}]]);_2de‍.w("../utils/directory-helpers",[["getDirForRemakeAppData",["getDirForRemakeAppData"],function(v){getDirForRemakeAppData=v}]]);const jsonfile = require("jsonfile");



       async function getCacheBustString({appName, shouldRegenerate} = {}) {
  let remakeAppDataDir = getDirForRemakeAppData({ appName });
  let cacheBustString = (new Date).getTime();

  let [appData] = await capture(jsonfile.readFile(remakeAppDataDir));
  if (!appData) {
    appData = {cacheBustString};
  }

  if (!appData.cacheBustString || shouldRegenerate) {
    appData.cacheBustString = cacheBustString;
  }

  await capture(jsonfile.writeFile(remakeAppDataDir, appData, { spaces: 2 }));

  return appData.cacheBustString;
}